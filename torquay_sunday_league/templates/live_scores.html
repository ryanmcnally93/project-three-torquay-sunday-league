{% extends "base.html" %}
{% block content %}

<div class="heading-box"> 
    <h1 class="main-heading">Live Scores</h1>
</div>
<form class="col s12" method="POST" action="{{ url_for('live_scores') }}">
    <div class="row search-row">
        <!-- Datepicker -->
        <div class="input-field col" id="search-bar">
            <input type="text" class="datepicker" id="match_date" name="match_date" placeholder="Pick a Date" required readonly></input>
            <label for="match_date">Date</label>
        </div>
        <!-- Submit -->
        <button type="submit" id="search-button" class="btn green button-border">
            Search <i class="fas fa-plus-square right"></i>
        </button>
    </div>
</form>

{% if request.method == "POST" %}

    {% for match in matches if match.competition.name == "FIFA World Cup" %} 
        {% if loop.index == 1 %}
            <h3 class="competition-header"><img src="{{ url_for('static', filename='images/world.webp/') }}" class="flag">FIFA World Cup</h3>
            <div class="league-box">
        {% endif %}
                <div class="scores-inline">
                    <p class="api-team row-without-mb row-without-mt">{{ match.utcDate[11:16] }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.homeTeam.name }}: </p><p class="api-team row-without-mb row-without-mt">{{ match.score.fullTime.home }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.awayTeam.name }}: </p><p class="row-without-mb row-without-mt">{{ match.score.fullTime.away }}</p>
                </div>
        {% if loop.last %}
            </div>
        {% endif %}
    {% endfor %}

    {% for match in matches if match.competition.name == "European Championship" %} 
        {% if loop.index == 1 %}
            <h3 class="competition-header"><img src="{{ url_for('static', filename='images/europe.webp/') }}" class="flag">European Championship</h3>
            <div class="league-box">
        {% endif %}
                <div class="scores-inline">
                    <p class="api-team row-without-mb row-without-mt">{{ match.utcDate[11:16] }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.homeTeam.name }}: </p><p class="api-team row-without-mb row-without-mt">{{ match.score.fullTime.home }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.awayTeam.name }}: </p><p class="row-without-mb row-without-mt">{{ match.score.fullTime.away }}</p>
                </div>
        {% if loop.last %}
            </div>
        {% endif %}
    {% endfor %}

    {% for match in matches if match.competition.name == "Premier League" %} 
        {% if loop.index == 1 %}
            <h3 class="competition-header"><img src="{{ url_for('static', filename='images/uk.webp/') }}" class="flag">Premier League</h3>
            <div class="league-box">
        {% endif %}
                <div class="scores-inline">
                    <p class="api-team row-without-mb row-without-mt">{{ match.utcDate[11:16] }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.homeTeam.name }}: </p><p class="api-team row-without-mb row-without-mt">{{ match.score.fullTime.home }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.awayTeam.name }}: </p><p class="row-without-mb row-without-mt">{{ match.score.fullTime.away }}</p>
                </div>
        {% if loop.last %}
            </div>
        {% endif %}
    {% endfor %}

    {% for match in matches if match.competition.name == "Championship" %} 
        {% if loop.index == 1 %}
            <h3 class="competition-header"><img src="{{ url_for('static', filename='images/uk.webp/') }}" class="flag">Championship</h3>
            <div class="league-box">
        {% endif %}
                <div class="scores-inline">
                    <p class="api-team row-without-mb row-without-mt">{{ match.utcDate[11:16] }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.homeTeam.name }}: </p><p class="api-team row-without-mb row-without-mt">{{ match.score.fullTime.home }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.awayTeam.name }}: </p><p class="row-without-mb row-without-mt">{{ match.score.fullTime.away }}</p>
                </div>
        {% if loop.last %}
            </div>
        {% endif %}
    {% endfor %}

    {% for match in matches if match.competition.name == "UEFA Champions League" %} 
        {% if loop.index == 1 %}
            <h3 class="competition-header"><img src="{{ url_for('static', filename='images/champions-league.webp/') }}" class="flag">UEFA Champions League</h3>
            <div class="league-box">
        {% endif %}
                <div class="scores-inline">
                    <p class="api-team row-without-mb row-without-mt">{{ match.utcDate[11:16] }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.homeTeam.name }}: </p><p class="api-team row-without-mb row-without-mt">{{ match.score.fullTime.home }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.awayTeam.name }}: </p><p class="row-without-mb row-without-mt">{{ match.score.fullTime.away }}</p>
                </div>
        {% if loop.last %}
            </div>
        {% endif %}
    {% endfor %}

    {% for match in matches if match.competition.name == "Bundesliga" %} 
        {% if loop.index == 1 %}
            <h3 class="competition-header"><img src="{{ url_for('static', filename='images/germany.webp/') }}" class="flag">Bundesliga</h3>
            <div class="league-box">
        {% endif %}
                <div class="scores-inline">
                    <p class="api-team row-without-mb row-without-mt">{{ match.utcDate[11:16] }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.homeTeam.name }}: </p><p class="api-team row-without-mb row-without-mt">{{ match.score.fullTime.home }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.awayTeam.name }}: </p><p class="row-without-mb row-without-mt">{{ match.score.fullTime.away }}</p>
                </div>
        {% if loop.last %}
            </div>
        {% endif %}
    {% endfor %}

    {% for match in matches if match.competition.name == "Ligue 1" %} 
        {% if loop.index == 1 %}
            <h3 class="competition-header"><img src="{{ url_for('static', filename='images/france.webp/') }}" class="flag">Ligue 1</h3>
            <div class="league-box">
        {% endif %}
                <div class="scores-inline">
                    <p class="api-team row-without-mb row-without-mt">{{ match.utcDate[11:16] }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.homeTeam.name }}: </p><p class="api-team row-without-mb row-without-mt">{{ match.score.fullTime.home }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.awayTeam.name }}: </p><p class="row-without-mb row-without-mt">{{ match.score.fullTime.away }}</p>
                </div>
        {% if loop.last %}
            </div>
        {% endif %}
    {% endfor %}

    {% for match in matches if match.competition.name == "Serie A" %} 
        {% if loop.index == 1 %}
            <h3 class="competition-header"><img src="{{ url_for('static', filename='images/italy.webp/') }}" class="flag">Serie A</h3>
            <div class="league-box">
        {% endif %}
                <div class="scores-inline">
                    <p class="api-team row-without-mb row-without-mt">{{ match.utcDate[11:16] }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.homeTeam.name }}: </p><p class="api-team row-without-mb row-without-mt">{{ match.score.fullTime.home }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.awayTeam.name }}: </p><p class="row-without-mb row-without-mt">{{ match.score.fullTime.away }}</p>
                </div>
        {% if loop.last %}
            </div>
        {% endif %}
    {% endfor %}

    {% for match in matches if match.competition.name == "La Liga" %} 
        {% if loop.index == 1 %}
            <h3 class="competition-header"><img src="{{ url_for('static', filename='images/spain.webp/') }}" class="flag">La Liga</h3>
            <div class="league-box">
        {% endif %}
                <div class="scores-inline">
                    <p class="api-team row-without-mb row-without-mt">{{ match.utcDate[11:16] }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.homeTeam.name }}: </p><p class="api-team row-without-mb row-without-mt">{{ match.score.fullTime.home }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.awayTeam.name }}: </p><p class="row-without-mb row-without-mt">{{ match.score.fullTime.away }}</p>
                </div>
        {% if loop.last %}
            </div>
        {% endif %}
    {% endfor %}

    {% for match in matches if match.competition.name == "Primeira Liga" %} 
        {% if loop.index == 1 %}
            <h3 class="competition-header"><img src="{{ url_for('static', filename='images/portugal.webp/') }}" class="flag">Liga Portugal</h3>
            <div class="league-box">
        {% endif %}
                <div class="scores-inline">
                    <p class="api-team row-without-mb row-without-mt">{{ match.utcDate[11:16] }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.homeTeam.name }}: </p><p class="api-team row-without-mb row-without-mt">{{ match.score.fullTime.home }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.awayTeam.name }}: </p><p class="row-without-mb row-without-mt">{{ match.score.fullTime.away }}</p>
                </div>
        {% if loop.last %}
            </div>
        {% endif %}
    {% endfor %}

    {% for match in matches if match.competition.name == "Campeonato Brasileiro Série A" %} 
        {% if loop.index == 1 %}
            <h3 class="competition-header"><img src="{{ url_for('static', filename='images/brazil.webp/') }}" class="flag">Serie A Brazil</h3>
            <div class="league-box">
        {% endif %}
                <div class="scores-inline">
                    <p class="api-team row-without-mb row-without-mt">{{ match.utcDate[11:16] }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.homeTeam.name }}: </p><p class="api-team row-without-mb row-without-mt">{{ match.score.fullTime.home }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.awayTeam.name }}: </p><p class="row-without-mb row-without-mt">{{ match.score.fullTime.away }}</p>
                </div>
        {% if loop.last %}
            </div>
        {% endif %}
    {% endfor %}

    {% for match in matches if match.competition.name == "Eredivisie" %} 
        {% if loop.index == 1 %}
            <h3 class="competition-header"><img src="{{ url_for('static', filename='images/netherlands.webp/') }}" class="flag">Eredivisie</h3>
            <div class="league-box">
        {% endif %}
                <div class="scores-inline">
                    <p class="api-team row-without-mb row-without-mt">{{ match.utcDate[11:16] }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.homeTeam.name }}: </p><p class="api-team row-without-mb row-without-mt">{{ match.score.fullTime.home }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.awayTeam.name }}: </p><p class="row-without-mb row-without-mt">{{ match.score.fullTime.away }}</p>
                </div>
        {% if loop.last %}
            </div>
        {% endif %}
    {% endfor %}

    {% for match in matches if match.competition.name == "Copa Libertadores" %} 
        {% if loop.index == 1 %}
            <h3 class="competition-header"><img src="{{ url_for('static', filename='images/south-america.webp/') }}" class="flag">Copa Libertadores</h3>
            <div class="league-box">
        {% endif %}
                <div class="scores-inline">
                    <p class="api-team row-without-mb row-without-mt">{{ match.utcDate[11:16] }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.homeTeam.name }}: </p><p class="api-team row-without-mb row-without-mt">{{ match.score.fullTime.home }}</p>
                    <p class="api-team row-without-mb row-without-mt">{{ match.awayTeam.name }}: </p><p class="row-without-mb row-without-mt">{{ match.score.fullTime.away }}</p>
                </div>
        {% if loop.last %}
            </div>
        {% endif %}
    {% endfor %}

{% endif %}
{% endblock %}